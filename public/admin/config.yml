backend:
  name: github
  repo: leviszaboo/luigisimiani.com
  branch: main
  base_url: sveltia-cms-auth.leviszaboo.workers.dev

local_backend: true

media_folder: public/images/galleries
public_folder: /images/galleries

publish_mode: editorial_workflow

collections:
  # Galleries
  - name: galleries
    label: Galleries
    folder: content/gallery
    create: true
    slug: "{{slug}}"
    extension: json
    format: json
    sortable_fields: [title, date, category]
    fields:
      - name: id
        label: ID
        widget: string
        pattern: ["^[a-z0-9-]+$", "Lowercase letters, numbers, and hyphens only"]
      - name: title
        label: Title
        widget: string
      - name: subTitle
        label: Subtitle
        widget: string
        required: false
      - name: date
        label: Date
        widget: datetime
        date_format: "YYYY-MM-DD"
        time_format: false
        hint: "Used for sorting galleries"
      - name: coverPhoto
        label: Cover Photo
        widget: image
        required: false
        hint: "Main thumbnail for gallery list"
      - name: imageUrls
        label: Images
        widget: list
        summary: "{{fields.url}}"
        minimize_collapsed: true
        field: { name: url, label: Image, widget: image, media_library: { allow_multiple: true } }
      - name: category
        label: Category
        widget: select
        options: ["digital", "analog", "fashion", "editorial", "event", "portrait", "product", "wedding"]
        hint: "Primary category for this gallery"
      - name: tags
        label: Tags
        widget: list
        required: false
        hint: "Layout: 'hero'/'featured' (full), 'editorial'/'pair' (half), 'portrait'/'small' (third). Special: 'hidden' (hides from listings), 'downloadable' (adds download ZIP button), 'protect' (disables flower bypass on password page)"
      - name: password
        label: Password
        widget: string
        required: false
        hint: "Leave blank for public, set password to protect"

  # Pages
  - name: pages
    label: Pages
    files:
      - name: homepage
        label: Homepage
        file: content/settings.json
        fields:
          - name: heroTitle
            label: Hero Title
            widget: string
            required: false
            hint: "Optional title displayed over hero slideshow"
          - name: featuredTitle
            label: Featured Section Title
            widget: string
            default: "Featured Work"
            hint: "Title for the featured work section"
          - name: heroSlideshow
            label: Hero Slideshow
            widget: relation
            collection: components
            file: hero
            value_field: galleries
            display_fields: ["galleries"]
            required: false
            hint: "Reference to Hero Slideshow component"
          - name: quotes
            label: Quotes
            widget: relation
            collection: components
            file: quotes
            value_field: quotes
            display_fields: ["quotes"]
            required: false
            hint: "Reference to Quotes component"
      - name: about
        label: About
        file: content/bio.json
        fields:
          - name: paragraphs
            label: Paragraphs
            label_singular: Paragraph
            widget: list
            hint: "Bio paragraphs in display order"
            fields:
              - name: id
                label: ID
                widget: string
              - name: value
                label: Text
                widget: text
      - name: contact
        label: Contact
        file: content/contact.json
        fields:
          - name: email
            label: Email
            widget: string
          - name: location
            label: Location
            widget: string
          - name: instagram
            label: Instagram Handle
            widget: string
            required: false
            hint: "Without @ symbol"
          - name: linkedin
            label: LinkedIn URL
            widget: string
            required: false
            hint: "Full LinkedIn profile URL"
  # Components
  - name: components
    label: Components
    files:
      - name: hero
        label: Hero Slideshow
        file: content/featured.json
        fields:
          - name: galleries
            label: Hero Galleries
            widget: list
            hint: "Select galleries for the hero slideshow. Uses cover photo from each gallery."
            field:
              name: galleryId
              label: Gallery
              widget: relation
              collection: galleries
              search_fields: [title, id]
              value_field: id
              display_fields: [title]
      - name: quotes
        label: Quotes
        file: content/quotes.json
        fields:
          - name: quotes
            label: Quotes
            widget: list
            hint: "Quotes displayed between featured galleries"
            fields:
              - { name: id, label: ID, widget: string }
              - { name: text, label: Quote Text, widget: text }
              - { name: author, label: Author, widget: string, required: false }
